{% extends "../layout.html" %}

    {% block head %}
        {% parent %}
    {% endblock %}


    {% block header %}
        {% parent %}
    {% endblock %}

    {% block heading %}
        <div class="ht-page-header">
            <div class="overlay" style="background: rgba(0,0,0,.5)"></div>
            <div class="container">
                <div class="inner">
                    <h2 class="heading">Profil utilisateur</h2>
                    <ol class="ht-breadcrumb">
                        <li><a href="/api/profile/">Profile</a></li>
                        <li><a href="#">Dernières Commandes</a></li>
                    </ol>
                </div>
            </div>
        </div>
    {% endblock %}

    {% block content %}
        <div class="ht-section hs-editors grid">
            <div class="hs-content">
                <div class="container">
                    <div class="row">
                        {% if user %}
                        <div class="hs-content col-xs-12 col-sm-8 col-sm-offset-2">
                            <div class="ht-form-block">
                                <div class="text-center">
                                    <h3 class="heading">Profil</h3>
                                    <p class="register_warning has-error"><p class="signUpRappel"> {{profileUpdated}}</p></p>
                                </div>
                                <form action="/api/profile/updateProfile" method="post">

                                    <div class="row">
                                        <input id="userId" name="userId" type="hidden" value="{{ user._id}}">
                                        <div class="form-group col-xs-12 col-sm-4">
                                            <label for="firstname">Prénom : </label>
                                            <input id="firstname" name="firstname" type="text" value="{{ user.firstname }}" required>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4">
                                            <label for="lastname">Nom :</label>
                                            <input id="lastname" name="lastname" type="text" value="{{ user.lastname }}" required>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-4">
                                            <label for="username">Pseudo :</label>
                                            <input id="username" name="username" type="text" value="{{ user.username }}" required>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-group col-xs-12 col-sm-6">
                                            <label for="email">Email :</label>
                                            <input id="email" name="email" type="email" value="{{ user.email }}" required>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-6">
                                            <label for="address">Adresse :</label>
                                            <input id="address" name="address" type="text" value="{{ user.address }}">
                                        </div>
                                    </div>
                                    <div class="row">

                                        <div class="form-group col-xs-12 col-sm-6">
                                            <label for="phoneNumber">N° de portable :</label>
                                            <input id="phoneNumber" name="phoneNumber" type="text" value="{{ user.phoneNumber }}" required>
                                        </div>
                                        <div class="form-group submit-group">
                                            <button type="submit" class="ht-button view-more-button">
                                                <i class="fa fa-arrow-left"></i>Mettre à jour le profil<i class="fa fa-arrow-right"></i>
                                            </button>
                                        </div>
                                    </div>

                                </form><br/><br/><br/>
                                <div class="text-center">
                                    <h3 class="heading">Mot de passe</h3>
                                </div>
                                <form action="/api/profile/updateProfilePassword" method="post">

                                    <div class="row">
                                        <input id="userIdPass" name="userIdPass" type="hidden" value="{{ user._id}}">
                                        <div class="form-group col-xs-12 col-sm-6">
                                            <label for="password">Mot de passe :</label>
                                            <input id="password" name="password" type="password" value="" required>
                                        </div>
                                        <div class="form-group col-xs-12 col-sm-6">
                                            <label for="checkPass">Confirmation mot de passe :</label>
                                            <input id="checkPass" name="checkPass" type="password" value="" required>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-group submit-group">
                                            <button type="submit" class="ht-button view-more-button">
                                                <i class="fa fa-arrow-left"></i>Mettre à jour le mot de passe<i class="fa fa-arrow-right"></i>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        {% else %}
                        <div class="hs-content col-xs-12 col-sm-8 col-sm-offset-2">
                            <div class="ht-form-block">
                                <div class="text-center">
                                    <h3 class="heading">no user found</h3>
                                    <p>No user found, please login</p>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    {% endblock %}

    {% block footer %}
        {% parent %}
    {% endblock %}